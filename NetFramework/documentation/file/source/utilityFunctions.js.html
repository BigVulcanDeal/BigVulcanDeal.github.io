<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../">
  <title data-ice="title">source/utilityFunctions.js | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~AnyType.html">AnyType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~ApprovalHistoryType.html">ApprovalHistoryType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~BatchInformationType.html">BatchInformationType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~BatchListEntryType.html">BatchListEntryType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~BatchListEntryTypeType.html">BatchListEntryTypeType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~BatchListType.html">BatchListType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~BatchSizeType.html">BatchSizeType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~ClassInstanceAssociationType.html">ClassInstanceAssociationType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~ConnectionTypeType.html">ConnectionTypeType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~ConstraintType.html">ConstraintType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~ControlRecipeType.html">ControlRecipeType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~DataInterpretationType.html">DataInterpretationType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~DataTypeType.html">DataTypeType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~DepictionType.html">DepictionType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~EnumerationSetType.html">EnumerationSetType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~EnumerationType.html">EnumerationType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~EquipmentConnectionType.html">EquipmentConnectionType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~EquipmentElementLevelType.html">EquipmentElementLevelType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~EquipmentElementType.html">EquipmentElementType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~EquipmentElementTypeType.html">EquipmentElementTypeType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~EquipmentIDType.html">EquipmentIDType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~EquipmentProceduralElementClassType.html">EquipmentProceduralElementClassType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~EquipmentProceduralElementType.html">EquipmentProceduralElementType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~EquipmentProceduralElementTypeType.html">EquipmentProceduralElementTypeType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~EquipmentRequirementType.html">EquipmentRequirementType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~FormulaType.html">FormulaType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~FromIDType.html">FromIDType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~FromTypeType.html">FromTypeType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~HeaderType.html">HeaderType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~IDScopeType.html">IDScopeType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~IndividualApprovalType.html">IndividualApprovalType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~LinkType.html">LinkType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~LinkTypeType.html">LinkTypeType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~ListHeaderType.html">ListHeaderType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~MasterRecipeType.html">MasterRecipeType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~ModeType.html">ModeType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~ModificationLogType.html">ModificationLogType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~OtherInformationType.html">OtherInformationType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~ParameterType.html">ParameterType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~ParameterTypeType.html">ParameterTypeType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~ProcedureLogicType.html">ProcedureLogicType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~PropertyType.html">PropertyType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~RecipeBuildingBlockType.html">RecipeBuildingBlockType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~RecipeElementType.html">RecipeElementType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~RecipeElementTypeType.html">RecipeElementTypeType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~StatusType.html">StatusType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~StepType.html">StepType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~ToIDType.html">ToIDType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~ToTypeType.html">ToTypeType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~TransitionType.html">TransitionType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/S88_classes.js~ValueType.html">ValueType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/utilityFunctions.js~EnumClass.html">EnumClass</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/utilityFunctions.js~S88Base.html">S88Base</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/source/utilityFunctions.js~TypedArray.html">TypedArray</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-uuid4">uuid4</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-AnyType_typeInfo">AnyType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ApprovalHistoryType_typeInfo">ApprovalHistoryType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-BatchInformationType_typeInfo">BatchInformationType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-BatchListEntryType1Type">BatchListEntryType1Type</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-BatchListEntryType_typeInfo">BatchListEntryType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-BatchListType_typeInfo">BatchListType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-BatchSizeType_typeInfo">BatchSizeType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ClassInstanceAssociationType_typeInfo">ClassInstanceAssociationType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ConnectionType1Type">ConnectionType1Type</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ConstraintType_typeInfo">ConstraintType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ControlRecipeType_typeInfo">ControlRecipeType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-DataInterpretation1Type">DataInterpretation1Type</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-DataType1Type">DataType1Type</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Depiction1Type">Depiction1Type</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EnumerationSetType_typeInfo">EnumerationSetType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EnumerationType_typeInfo">EnumerationType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EquipmentConnectionType_typeInfo">EquipmentConnectionType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EquipmentElementLevel1Type">EquipmentElementLevel1Type</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EquipmentElementType1Type">EquipmentElementType1Type</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EquipmentElementType_typeInfo">EquipmentElementType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EquipmentIDType_typeInfo">EquipmentIDType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EquipmentProceduralElementClassType_typeInfo">EquipmentProceduralElementClassType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EquipmentProceduralElementType1Type">EquipmentProceduralElementType1Type</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EquipmentProceduralElementType_typeInfo">EquipmentProceduralElementType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EquipmentRequirementType_typeInfo">EquipmentRequirementType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-FormulaType_typeInfo">FormulaType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-FromIDType_typeInfo">FromIDType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-FromType1Type">FromType1Type</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-HeaderType_typeInfo">HeaderType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-IDScope1Type">IDScope1Type</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-IndividualApprovalType_typeInfo">IndividualApprovalType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-LinkType1Type">LinkType1Type</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-LinkType_typeInfo">LinkType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ListHeaderType_typeInfo">ListHeaderType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-MasterRecipeType_typeInfo">MasterRecipeType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Mode1Type">Mode1Type</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ModificationLogType_typeInfo">ModificationLogType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-OtherInformationType_typeInfo">OtherInformationType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ParameterType1Type">ParameterType1Type</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ParameterType_typeInfo">ParameterType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ProcedureLogicType_typeInfo">ProcedureLogicType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-PropertyType_typeInfo">PropertyType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-RecipeBuildingBlockType_typeInfo">RecipeBuildingBlockType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-RecipeElementType1Type">RecipeElementType1Type</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-RecipeElementType_typeInfo">RecipeElementType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ScaledType">ScaledType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Status1Type">Status1Type</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-StepType_typeInfo">StepType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ToIDType_typeInfo">ToIDType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ToType1Type">ToType1Type</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-TransitionType_typeInfo">TransitionType_typeInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ValueType_typeInfo">ValueType_typeInfo</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">source/utilityFunctions.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">
&apos;use strict&apos;;
function uuid4() {
    //// return uuid of form xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx
    var uuid = &apos;&apos;, ii;
    for (ii = 0; ii &lt; 32; ii += 1) {
      switch (ii) {
      case 8:
      case 20:
        uuid += &apos;-&apos;;
        uuid += (Math.random() * 16 | 0).toString(16);
        break;
      case 12:
        uuid += &apos;-&apos;;
        uuid += &apos;4&apos;;
        break;
      case 16:
        uuid += &apos;-&apos;;
        uuid += (Math.random() * 4 | 8).toString(16);
        break;
      default:
        uuid += (Math.random() * 16 | 0).toString(16);
      }
    }
    return uuid;
  };
  
/**
 * The enum class is used to implement enumerations in the style used for the BatchML and B2MML standards
*/
class EnumClass {
	constructor(baseEnum) {
		this._enum = baseEnum;

		// default to &quot;Other&quot; enum value, with blank &quot;OtherValue&quot; field
		this[&quot;_value&quot;] = this._enum[&quot;Other&quot;];
		this[&quot;_OtherValue&quot;] = &quot;&quot;;
	}

	/**
	* The baseClass method just returns &quot;TypedArray&quot;
	* All of the basis classes have a baseClass() method
	* for cases where logic needs to distinguish between the object types,
	*/ 
	baseClass(){ return &quot;EnumClass&quot;; }
	
	/**
	* The valueFromKey method accepts a string key and returns a corresponding value
	* @param {String} key a string that will be converted to a numeric value
	* @return {Number} the numeric equivalent of the key value
	*/ 
	valueFromKey(key){
		return this._enum[key];
	}

	/**
	* The keyFromValue method accepts a value corresponding sring for the enum
	* @param {Number} val a number that will be converted to a string value
	* @return {String} the string equivalent of the numeric argument
	*/ 
	keyFromValue(val){
		return this._enum[this._enum.key[val]];
	}


	/**
	 * The key setter accepts string value for the enum.
	 * Of the ley is invalid, the enum will be set to &quot;Other&quot;,
	 * and its &quot;OtherValue&quot; will be set to the key
	 * @param {String} key the key that we will attempt to set.
	*/ 
	set key(key){
		var test = this._enum[key];
		if(test === undefined){
			this[&quot;_value&quot;] = this._enum[&quot;Other&quot;];
			this[&quot;_OtherValue&quot;] = key;
		}
		else {
			this[&quot;_value&quot;] = test;
			this[&quot;_OtherValue&quot;] = &quot;&quot;;
		}
	}
	
	/**
	 * The key getter returns the current value of the enum as a string
	 * @return {String} the string that represents the current value of the enum
	*/
	get key(){
		return this._enum.key[this[&quot;_value&quot;]];
	}

	/**
	 * The value setter sets the numeric value of the enum.
	 * It has no effect if the value is out of bounds.
	 * @param {Number} value the numeric value that we will attempt to set
	*/ 	
	set value(value){
		var key = this._enum.key[value];

		// update value iff there is actually such an enum
		// value must be &amp;gt; 0 and &lt; last upper bound of &quot;values&quot; array
		if((key !== undefined) &amp;&amp; (value !== 0)){
			this[&quot;_value&quot;] = value;
			this[&quot;_OtherValue&quot;] = &quot;&quot;;
		}
	}

	/**
	 * The value getter returns the current value of the enum as a string
	 * @return {Number} the string that represents the current value of the enum
	*/
	get value(){
		return this[&quot;_value&quot;];
	}

	/**
	 * The OtherValue setter is used to set the enum to &quot;Other&quot;. This is a special value that
	 * is generally accompanied by setting the &quot;OtherValue&quot; property of the enum.  It is used in cases
	 * there the normal values of the enum are not suitable.
	 * @param {String} OtherValue the string value that we will attempt to set for OtherValue
	*/
	set OtherValue(OtherValue){
		this[&quot;_value&quot;] = this._enum.Other;
		this[&quot;_OtherValue&quot;] = String(OtherValue);
	}

	/**
	 * The OtherValue getter is used to retrieve the value of the enum&apos;s &quot;OtherValue&quot; property.
	 * @return {String} the string that represents the current &quot;OtherValue&quot; of the enum
	*/	
	get OtherValue(){
		return this[&quot;_OtherValue&quot;];
	}
	
	/**
	 * The parseValTree method is used to initialize this enum from a &quot;compatible&quot; javascript object
	 * @param {Object} valTree a tree value that is used for the initialization
	*/	
	parseValTree(valTree){
		// use testVal to see if the tree item has a key property
		// and if that key maps to a valid value
		var testVal = this._enum[valTree[&quot;key&quot;]];
		var testOtherValue = valTree[&quot;OtherValue&quot;];
		
		// If there is a &quot;key&quot; in the tree fragment,
		// and it is not &quot;Other&quot;
		// Then set our key to match the tree fragment&apos;s key
		if( (testVal !== undefined) &amp;&amp; (testVal &gt; 0) &amp;&amp; (testVal &lt; this._enum[&quot;Other&quot;])){
			this.key = testKey;
		}
		
		// if there an OtherValue present
		// and if the key is &quot;Other&quot;
		// or if the key is not specified
		// Then set our &quot;OtherValue&quot; to match the tree fragment&apos;s OtherValue
		else if((testOtherValue !== undefined)) {
			this.OtherValue = String(testOtherValue);
		}
		else{
			this.OtherValue = &quot;undefined&quot;;
		}
	}	
	
	/**
	 * The toJSON method emits JSON that defines this enum object sub-tree
	 * @return {String} JSON that represents this object
	*/	
	toJSON(){
		var retval;
		if (this[&quot;_value&quot;] === this._enum[&quot;Other&quot;]){
			retval = &apos;{&quot;OtherValue&quot; : &quot;&apos; + this.OtherValue + &apos;&quot;}&apos;;
		}
		else {
			retval = &apos;{&quot;key&quot; : &quot;&apos; + this.key + &apos;&quot;}&apos;;
		}
		return retval;
	}
	
	/**
	 * The toJSON method emits JSON that defines this enum object sub-tree
	 * @param {XMLElement} thisElement an XML element that will be loaded with BatchML corresponding to this object
	*/	
	toBatchML(thisElement){
		// create an element to represent the property
		// then stick the value in that element
		var valueNode = thisElement.ownerDocument.createTextNode(String(this.key));
		thisElement.appendChild(valueNode);
		
		// if the enum is &quot;other&quot;, then put the OtherValue in the OtherValue attribute
		if (this[&quot;_value&quot;] === this._enum[&quot;Other&quot;]){
			thisElement.setAttribute(&quot;OtherValue&quot;,this.OtherValue);
		}
	}
	
}

/**
 * The TypedArray is used to implement a collection of objects that have some degree of type checking.
*/
class TypedArray extends Array {
	constructor(baseClass, num_elements=0){
		super();
		this.ctor = null;
		this.ctor = baseClass.prototype.constructor;
		for (var i = 0; i &lt; num_elements; i++){
			this.add()
		}
	}

	/**
	* The baseClass method just returns &quot;TypedArray&quot;
	* All of the basis classes have a baseClass() method
	* for cases where logic needs to distinguish between the object types,
	*/ 
	baseClass(){ return &quot;TypedArray&quot;; }
	
	/**
	 * The add method constructs a new object of the designated S88Base sub-type, adds it to the array
	 * and returns a reference to the newly created object
	 * @return {S88Base} the newly created object
	*/
	add(){
		var newItem = new this.ctor();
		super.push(newItem);
		return newItem;
	}

	/**
	 * The push method overloads Array.push() in order to preform a type-check before pushing the object.
	 * @param {S88Base} newItem an object of the designated type for this array
	*/
	push(newItem){
		if(newItem.constructor == this.ctor){
			super.push(newItem);
			return newItem;
		}
		else{ throw &quot;bad object type&quot; }
	}
	
	/**
	 * The parseValTree method is used to initialize this TypedArray from an array of &quot;compatible&quot; javascript objects
	 * @param {Object} valTree a tree value that is used for the initialization of the objects in the array
	*/
	parseValTree(valTree){	
		// the value must be a tree for this to work
		for (var i = 0; i &lt; valTree.length; i++) {
			var newElement = this.add();
			newElement.parseValTree(valTree[i]);
		} 
	}	
	
	/**
	 * The toJSON method emits JSON that defines this TypedArray, and the entire tree for each object in the array
	 * @return {String} JSON that represents this TypedArray
	*/	
	toJSON(){
		var retval = &quot;[&quot;;
		// the value must be a tree for this to work
		for (var i = 0; i &lt; this.length; i++) {
			// precede with a comma, if this is not the first item ..
			if (i &gt; 0){ retval += &quot;,&quot;; }
			retval += this[i].toJSON();			
		} 
		retval += &quot;]&quot;;
		return retval;
	}	
	
	/**
	 * The toBatchML method appends definitions of this array to the XMLElement that is the parent of the &quot;thisElement&quot; argument
	 * - The &quot;thisElement&quot; element is deleted at the end of this method.
	 * - A TypedArray cannot be used as the root of the BatchML document.
	 * @param {XMLElement} thisElement An XMLElement whose parent element will hold the elements of this array
	*/
	toBatchML(thisElement){
		
		// get the element name from &quot;thisElement&quot;
		var elementName = thisElement.localName;
		
		// for any subsequent items,
		// create an additional element,and then fill it out
		for (var i = 0; i &lt; this.length; i++) {
			// create an element for the item
			// append it to the parent element
			// and then call the item&apos;s toBatchML method to fill out the element
			var nextElement = thisElement.ownerDocument.createElement(elementName);
			thisElement.parentElement.append(nextElement);
			this[i].toBatchML(nextElement);			
		} 

		// the &quot;thisElement&quot; generally has the wrong name (trailing &quot;_col&quot;)
		// and is always removed
		thisElement.remove();
	}
}


/**
 * The S88Base class is the base class for all of the core objects that are used to define an S88 model.
 * It mainly supports generic logic for 
 * - reading and writing the object tree in BatchML format
 * - reading and writing the object tree in JSON format
 * - performing intelligent copies of one object to another (e.g. generating a ControlRecipe from a MasterRecipe)
*/
class S88Base {

	constructor(typeInfo){
		this._typeInfo = typeInfo;
	}

	/**
	* The baseClass method just returns &quot;S88Base&quot;
	* All of the basis classes have a baseClass() method
	* for cases where logic needs to distinguish between the object types,
	*/ 
	baseClass(){ return &quot;S88Base&quot;; }
	
	/**
	 * The parseJSON method is used to initialize this TypedArray from &quot;compatible&quot; JSON
	 * @param {String} jsonString a JSON string representing a tree value that can be mapped to this object
	*/	
	parseJSON(jsonString){
		var valTree = JSON.parse(jsonString);
		this.parseValTree(valTree);
	}
	
	/**
	 * The parseValTree method is used to initialize this S88Base object a &quot;compatible&quot; javascript tree-valued object
	 * @param {Object} valTree a tree value that is used for the &quot;deep&quot; initialization of this object
	*/	
	parseValTree(valTree){
		for (var prop in valTree) {
			if (valTree.hasOwnProperty(prop)) {
				try{
					switch(valTree[prop] ){
						case null:
						case undefined:
							this[prop] = valTree[prop];
							break;
							
						default:
							var typeName = this[prop].constructor.name;
							switch (typeName) {
								
								// if the value corresponds to an atomic type,
								// then use casting to ensure (as best we can)
								// the the value is ingested as the proper type.
								case &quot;String&quot;:
									this[prop] = String(valTree[prop]);
									break;								
								case &quot;Number&quot;:
									this[prop] = Number(valTree[prop]);
									break;								
								case &quot;Date&quot;:
									this[prop] = new Date(valTree[prop]);
									break;								
								case &quot;Array&quot;:
									this[prop] = valTree[prop];
									break;
								default:
									this[prop].parseValTree(valTree[prop]);
								break;
							}
							break;
					}
				}
				catch(e){
					debugger;
				}
			} 
		}		
	}
	
	/**
	 * The toJSON method emits JSON that defines this S88Base sub-type object, and the entire tree beneath it
	 * @return {String} JSON that represents this TypedArray
	*/	
	toJSON(){
		var retval = &quot;&quot;;

		// iterate over the elements in the _typeInfo array
		// in order to ensure that the elements are generated in the proper order
		for (var j = 0; j &lt; this._typeInfo._elements.length; j++) {
			
			// get the name of the member (prop)
			// and the name of the element that we will generate (elementName)
			var prop = this._typeInfo._elements[j].name;
			var elementName = this._typeInfo._elements[j].elementName;		

			try{
				switch(this[prop] ){
					case null:
					case undefined:
						// do nothing ..
						break;
						
					default:
						var typeName = this[prop].constructor.name;
						switch (typeName) {
							case &quot;String&quot;:
							case &quot;Number&quot;:
							case &quot;Date&quot;:
							case &quot;Array&quot;:
								retval += &apos;,&quot;&apos; + prop + &apos;&quot;:&apos; + JSON.stringify(this[prop]);
								break;
							default:
								retval += &apos;,&quot;&apos; + prop + &apos;&quot;:&apos; + this[prop].toJSON();
							break;
						}
						break;
				}
			}
			catch(e){}
				
			
		}
		
		// Halt if there is are any undefined results while debugging ...
		if( retval.includes(&quot;undefined&quot;)) debugger;
		
		// trim off leading &quot;,&quot; and slap curly braces around the string
		return(&quot;{&quot; + retval.substr(1,retval.length-1) + &quot;}&quot;);		
	}

	/**
	 * The parseBatchML method is used to read BatchML document into S88 object tree.	
	 * @param {XMLElement} xmlNode an XML fragment representing a tree value that is used for the &quot;deep&quot; initialization of this object
	*/		
	parseBatchML(xmlNode){
		for(var i = 0; i &lt; xmlNode.children.length; i++){
			var node = xmlNode.children[i];
			
			// each node should correspond to a member in the object ...
			var singleMemberName = node.localName;
			var arrayMemberName = singleMemberName + &quot;_col&quot;;
			var singleMember = this[singleMemberName];
			var arrayMember = this[arrayMemberName];
			if( singleMember !== undefined ){
				switch (this[singleMemberName].constructor.name) {
					// If value is typed as a String, Number or Date
					// then decode the value using conventional JS techniques
					// that will yield the right data type
					case &quot;String&quot;:
						this[singleMemberName] = String(node.innerHTML);
						break;
					case &quot;Number&quot;:
						this[singleMemberName] = Number(node.innerHTML);
						break;				
					case &quot;Date&quot;:
						this[singleMemberName] = new Date(node.innerHTML);
						break;
					default:
						// if it&apos;s an enum, 
						// then invoke slightly different logic, 
						// depending on whether it is a defined value or an &quot;OtherValue&quot;
						if (this[singleMemberName].baseClass() == &quot;EnumClass&quot;){
							// if not &quot;OtherValue&quot;, then set using key ...
							if( node.getAttribute(&quot;OtherValue&quot;) === null){
								this[singleMemberName].key = node.innerHTML;
							}
							// if OtherValue, then set using OtherValue attribute
							else{
								this[singleMemberName].OtherValue = node.innerHTML;
							}
						}
						// If it&apos;s some sort of S88 object,
						// then use its parseBatchML method to delegate parsing
						// of its corresponding xml sub-tree
						else if (this[singleMemberName].baseClass() == &quot;S88Base&quot;){
							this[singleMemberName].parseBatchML(node);
						}
						else{
							console.log(&quot;error building from BatchML document&quot;);
						}
					break;
				}
			}
			else if( arrayMember !== undefined){
				switch (this[arrayMemberName].constructor.name) {
					case &quot;Array&quot;:
						this[arrayMemberName].push(node.innerHTML);
						break;
					default:
						if (this[arrayMemberName].baseClass() == &quot;TypedArray&quot;){
							var newElement = this[arrayMemberName].add();
							newElement.parseBatchML(node);
						}
						else{
							console.log(&quot;error building from BatchML document&quot;);
						}				
					break;
				}		
			}
			else{
				console.log(&quot;unrecognized element in BatchML document&quot;);
			}
		}
	}
	
	/**
	 * The toBatchML method appends definitions within the &quot;thisElement&quot; argument
	 * @param {XMLElement} thisElement An XMLElement that will embody a tree that represents this object (including all contained objects)
	*/
	toBatchML(thisElement){
		
		// iterate over the elements in the _typeInfo array
		// in order to ensure that the elements are generated in the proper order
		for (var j = 0; j &lt; this._typeInfo._elements.length; j++) {
				
			// get the name of the member (prop)
			// and the name of the element that we will generate (elementName)
			var prop = this._typeInfo._elements[j].name;
			var elementName = this._typeInfo._elements[j].elementName;
			
			try{
				switch(this[prop] ){
					case null:
					case undefined:
						// do nothing ..
						break;
						
					default:
						var typeName = this[prop].constructor.name;
						switch (typeName) {
							case &quot;String&quot;:
							case &quot;Number&quot;:
							case &quot;Date&quot;:
								// create an element to represent the child property
								// then stick the value in that child element
								// then add the child element to the element that represents this object
								var itemElement = thisElement.ownerDocument.createElement(elementName);
								var valueNode = thisElement.ownerDocument.createTextNode(String(this[prop]));
								itemElement.appendChild(valueNode);
								thisElement.append(itemElement);
								break;
							case &quot;Array&quot;:
								// if it&apos;s an Array, then iterate over the items
								for(var i = 0; i &lt; this[prop].length; i++){
									// create an element to represent the property
									// then stick the value in that element
									// then add the property element to the element for this object
									var itemElement = thisElement.ownerDocument.createElement(elementName);
									var valueNode = thisElement.ownerDocument.createTextNode(String(this[prop][i]));
									itemElement.appendChild(valueNode);
									thisElement.append(itemElement);												
								}
								break;
							default:
								// if the property is a subordinate object
								// then delegate to it to build up the xml
								var itemElement = thisElement.ownerDocument.createElement(elementName);
								thisElement.append(itemElement);										
								this[prop].toBatchML(itemElement);
							break;
						}
						break;
				}
			}
			catch(e){
				debugger;
			}
			
		
		}		
	}
}

</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.5.2)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
